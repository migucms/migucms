<form class="layui-form" style="padding:15px 0" action="{:url()}" method="post">
    <div class="layui-form-item">
        <label class="layui-form-label">钩子名称</label>
        <div class="layui-input-inline">
            <input type="text" class="layui-input field-name" name="name" lay-verify="required" autocomplete="off" placeholder="字母或下划线组成">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">钩子描述</label>
        <div class="layui-input-inline">
            <textarea  class="layui-textarea field-intro" name="intro" lay-verify="required" autocomplete="off" placeholder="请填写钩子描述"></textarea>
        </div>
    </div>
    {if condition="$hook_plugins"}
    <fieldset class="layui-elem-field layui-field-title">
        <legend>关联插件设置</legend>
    </fieldset>
    <div class="layui-form-item">
        <table class="layui-table">
            <thead>
                <tr>
                    <th>插件名</th>
                    <th width="50">排序</th>
                    <th width="60">状态</th>
                </tr>
            </thead>
            <tbody>
                {volist name="hook_plugins" id="vo"}
                <tr>
                    <td>{$vo['plugins']}</td>
                    <td>
                        <input type="text" class="layui-input j-ajax-input fl" style="width:50px;height:25px;" onkeyup="value=value.replace(/[^\d]/g,'')" value="{$vo['sort']}" data-value="{$vo['sort']}" data-href="{:url('sort?table=admin_hook_plugins&id='.$vo['id'])}">
                    </td>
                    <td>
                        <input type="checkbox" name="status" {if condition="$vo['status'] eq 1"}checked=""{/if} value="{$vo['status']}" lay-skin="switch" lay-filter="switchStatus" lay-text="启用|停用" data-href="{:url('hookPluginsStatus?id='.$vo['id'])}">
                    </td>
                </tr>
                {/volist}
            </tbody>
        </table>
    </div>
    {/if}
    <div class="migu-footer">
        <button type="submit" class="layui-btn layui-btn-sm" lay-submit="" lay-filter="formSubmit" lay-data="{pop: true, refresh: true}">{:lang('submit save')}</button>
        <a href="javascript:parent.layui.layer.closeAll();" class="layui-btn layui-btn-sm layui-btn-primary ml10">{:lang('cancel')}</a>
    </div>
</form>
{include file="block/layui" /}
<script>
layui.use(['func'], function() {
    layui.func.assign({:json_encode($formData)});
});
</script>